<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <!-- Ajout de la police-->

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet">

</head>

<body>

      <div class="modal-header">
        <h4 class="modal-title" id="modal-title">Nouvelle ligne de frais</h4>
      </div>

      <div class=" modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class =col-6>
              <label for="titre">Titre :</label>
              <input type="text" class="form-control" id="titre" [(ngModel)]="titre">
            </div>

              <div *ngIf="category !== 'FRAIS_KILOMETRIQUES'" class =col-6>
                <label for="ttc">TTC :</label>
                <input type="text" class="form-control" id="ttc" [(ngModel)]="ttc">
              </div>
              <div *ngIf="category === 'FRAIS_KILOMETRIQUES'" class =col-6>
                <label for="vehicle">Véhicule :</label>
                <input type="text" class="form-control" id="vehicle" [(ngModel)]="vehicle">
              </div>
          </div>

          <div class="row">
            <div class =col-6>
              <label for="date">Date :</label>
              <input id="date" class="form-control" type="date" name="date"   [(ngModel)]="date">
              <script>
                document.getElementById("date").valueAsDate = new Date();
              </script>
            </div>

            <div  *ngIf="category !== 'FRAIS_KILOMETRIQUES'" class =col-3>
              <label for="tva">TVA :</label>
              <input type="text" class="form-control" id="TVA" [(ngModel)]="tva">
            </div>


            <div  *ngIf="category === 'FRAIS_KILOMETRIQUES'" class =col-6>
              <label for="fiscalHorsePower">Chevaux fiscaux :</label>
              <select type="text" class="form-control" id="fiscalHorsePower" [(ngModel)]="fiscal_horse_power">
                <option value="3">3 CV et moins</option>
                <option value="4">4 CV</option>
                <option value="5">5 CV</option>
                <option value="6">6 CV</option>
                <option value="7">7 CV et plus</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div class =col-6>
              <label for="category">Catégorie :</label>
              <select type="text" class="form-control" id="category" [(ngModel)]="category">
                <option value="RESTAURATION">Restauration</option>
                <option value="HEBERGEMENT">Hébergement</option>
                <option value="FRAIS_KILOMETRIQUES">Frais Kilométriques</option>
                <option value="DEPLACEMENT">Déplacement</option>
                <option value="AUTRE">Autre</option>
              </select>
            </div>
            <div class =col-6>
              <label *ngIf="category !== 'FRAIS_KILOMETRIQUES' && category !=='DEPLACEMENT' "for="description">Description :</label>
              <label *ngIf="category === 'FRAIS_KILOMETRIQUES'|| category ==='DEPLACEMENT'" for="description">Trajet parcouru :</label>
              <input type="textarea" class="form-control" id="description" [(ngModel)]="description">
            </div>
          </div>

          <div class="row">
            <div *ngIf="category !== 'FRAIS_KILOMETRIQUES'" class =col-6>
              <label for="paymentMethod">Moyen de paiement :</label>
              <select type="text" class="form-control" id="paymentMethod" [(ngModel)]="paymentMethod">
                <option value="carte">Carte</option>
                <option value="espece">Espèce</option>
                <option value="chèque">Chèque</option>
              </select>
            </div>
            <div *ngIf="category === 'FRAIS_KILOMETRIQUES'" class =col-6>
              <label for="kmDone">Kilomètres parcourus :</label>
              <input type="text" class="form-control" id="kmDone" [(ngModel)]="km">
            </div>
            <div  *ngIf="category === 'FRAIS_KILOMETRIQUES'" class =col-6>
              <label for="registrationNumber">Plaque d'immatriculation :</label>
              <input type= "text" class="form-control" id="registrationNumber" [(ngModel)]="registrationNumber" >
            </div>
            <div *ngIf="category === 'RESTAURATION'" class =col-6>
              <label for="rPlace">Nom de l'établissement :</label>
              <input type="text" class="form-control" id="rPlace" [(ngModel)]="rPlace">
            </div>
            <div *ngIf="category === 'HEBERGEMENT'" class =col-6>
              <label for="hPlace">Nom de l'établissement :</label>
              <input type="text" class="form-control" id="hPlace" [(ngModel)]="hPlace">
            </div>
            <div  *ngIf="category === 'DEPLACEMENT'" class =col-6>
              <label for="conveyance">Moyen de transport :</label>
              <select type="text" class="form-control" id="conveyance" [(ngModel)]="conveyance">
                <option value="train">train</option>
                <option value="avion">avion</option>
                <option value="bateau">bateau</option>
                <option value="covoiturage">covoiturage</option>
                <option value="transports en communs">transports en communs</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div class =col-6>
              <label for="country">Pays :</label>
              <input type="text" class="form-control" id="country" [(ngModel)]="country">
            </div>
            <div *ngIf="category === 'FRAIS_KILOMETRIQUES'"class =col-6>
              <label>Montant :</label>
              <output [(ngModel)]="amount"></output>
            </div>
            <div *ngIf="category === 'RESTAURATION'" class =col-6>
              <label for="guestsName">Nom des invités :</label>
              <input type="text" class="form-control" id="guestsName" [(ngModel)]="guestsName">
            </div>
          </div>

          <div class="row">

            <div  *ngIf="category !== 'FRAIS_KILOMETRIQUES'" class =col-6>
              <label for="supportingDocuments">Justificatif :</label>
              <input type="file" class="form-control" id="supportingDocuments" accept="image/png, image/jpeg, image/pdf" [(ngModel)]="supportingDocuments">
            </div>

          </div>

          <div class="row">
            <div class =col-6>
              <label for="lineMission">Mission :</label>
              <select type="text" class="form-control" id="lineMission" [(ngModel)]="lineMission">
                <option *ngFor="let mission of missions "[value]="mission.id">
                  {{mission.name}}
                </option>
              </select>
            </div>

              <div class="modal-footer">
       <button type="button" class="btn btn-outline-dark" (click)="createNewLineBill()">Ok</button>
              </div>
            </div>
          </div>
        </div>


</body>

<!-- Fin du modal d'ouverture des boutons Nouvelle note de frais et nouvelle ligne de frais-->

